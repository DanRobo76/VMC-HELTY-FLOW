-------------------------------------------------------------------------------------- Inzio Sensori VMC
Status VMC: {{ states('sensor.vmc_master_status_ip_interfaccia')}}
Nome VMC: {{ states('sensor.vmc_master_nome_status')}}
Velocità Attuale: {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')}}
Velocita Attuale Interfaccia: {{states('sensor.vmc_master_status_ventola_lettura_codice_interpretato_interfaccia') }}
Sensori Accesi: {{ states('sensor.vmc_master_status_sensori_lettura_codice_interpretato')=='Accesi'}}
Sensori Spenti: {{ states('sensor.vmc_master_status_sensori_lettura_codice_interpretato')=='Spenti'}}
Pannello Led Acceso: {{ states('sensor.vmc_master_status_led_pannello_lettura_codice_interpretato')=='Acceso'}}
Pannello Led Spento: {{ states('sensor.vmc_master_status_led_pannello_lettura_codice_interpretato')=='Spento'}}

[Interruttore] Spia Avvisi: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_avvisi_spia')}}
-------------------------------------------------------------------------------------- Fine Sensori VMC

-------------------------------------------------------------------------------------- Inizio Inquinanti CO2 e/o VOC
Spia Inquinanti CO2 e/o VOC Rilevati [solo con Interruttore Inquinanti CO2 e VOC Acceso] [Automazione]: {{states('input_boolean.vmc_master_spia_co2_o_voc')}}

[Interruttore] Lim. Δ P. di Rugiada: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')}}
[Interruttore] Free Cooling:         {{states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling') }}
[Interruttore] Free Heating:         {{states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating') }} 
[Interruttore] Inquinanti CO2 e VOC: {{states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc')}}
[Interruttore] Calendario:           {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')}}

Spia Superamento del Lim. P. di Rugiada: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se ne sconsiglia l\'impiego") }}
Spia Allerta VOC:                        {{states('sensor.vmc_master_alert_monitoraggio_voc')}}
Spia Allerta CO2:                        {{states('sensor.vmc_master_alert_monitoraggio_co2')}}
Spia 1° Avvio Free Heating:              {{states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')}}
Spia 1° Avvio Free Cooling:              {{states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')}}
Spia 1° Avvio a Velocita 0 con Spia Inquinanti CO2 e/o VOC Rilevati Vs PdR: {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')}}

Tipologia [Free Heating, Free Cooling, Disabilitata]: {{states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling') }}
  - Temperatura Interna :  {{states('sensor.vmc_master_temp_interna_status') | float(0) }}
  - Temperatura Esterna:   {{states('sensor.vmc_master_temp_esterna_status') | float(0) }}
  - Avviso:                {{ states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling_allert_interfaccia_avvisi')}}
Avviso da mostrare POP-UP: {{states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling_disabilitato') }}

Attivazione    Automatica VMC per Allerta Inquinanti CO2 e/o VOC Rilevati [Interruttore Inquinanti CO2 e VOC ON]:  {{ states('sensor.vmc_master_alert_monitoraggio_co2') == 'Allerta' or states('sensor.vmc_master_alert_monitoraggio_voc')  == 'Allerta' and is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc', 'on')}}
Disattivazione Automatica VMC per Allerta Inquinanti CO2 e/o VOC Rilevati [Interruttore Inquinanti CO2 e VOC ON]:  {{ states('sensor.vmc_master_alert_monitoraggio_co2') != 'Allerta' and states('sensor.vmc_master_alert_monitoraggio_voc') != 'Allerta' and is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc', 'on')}}

Allerta Inquinanti CO2 e/o VOC Rilevati                                   [Interruttore Inquinanti CO2 e VOC OFF]: {{ states('sensor.vmc_master_alert_monitoraggio_co2') == 'Allerta' or states('sensor.vmc_master_alert_monitoraggio_voc')  == 'Allerta' and is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc', 'off')}}
Disattivazione Allerta Inquinanti CO2 e/o VOC Rilevati                    [Interruttore Inquinanti CO2 e VOC OFF]: {{ states('sensor.vmc_master_alert_monitoraggio_co2') != 'Allerta' and states('sensor.vmc_master_alert_monitoraggio_voc') != 'Allerta' and is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc', 'off')}}

Disarmamento [Int.] Inquinanti CO2 e VOC precedentemente Armato ed Attivato:                                                                    {{ (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc')=='off') and ( (states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0')== 'on') or (states('input_boolean.vmc_master_spia_velocita_0_co2_o_voc')== 'on') or (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_2_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_3_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_4_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc')=='on'))}}
Disarmamento [Int.] Lim. Δ P. di Rugiada o [Int.] Calendario precedentemente Armato con Inquinanti Presenti e [Int.] Inquinanti CO2 e VOC [ON]: {{ (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') =='off' or states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario') =='off') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on') }}

Calendario - NELLA FASCIA [Spia TRUE se almeno un'orario cade nella Fascia] e Interruttore Calendario OFF:      {{ (states('input_boolean.vmc_master_spia_calendario_lunedi_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_lunedi_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_martedi_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_martedi_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_mercoledi_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_mercoledi_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_giovedi_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_giovedi_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_venerdi_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_venerdi_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_sabato_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_sabato_2') == 'on' or states('input_boolean.vmc_master_spia_calendario_domenica_1') == 'on' or states('input_boolean.vmc_master_spia_calendario_domenica_2') == 'on') and states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario') =='off' }}
PdR - [Spia TRUE se Attivato] e Interrtuttore PdR OFF:                                                          {{ (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') =='on' or states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') =='on') and states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') =='off' }}
------------------------- Attivazione Automatica VMC per Inquinanti CO2 e/o VOC Rilevati --------------------------
1)  Velocità diversa da 0 e con PdR Off su tutte le Velocità  e (Spia FreeHeating Programmato Off e FreeCooling Programmato Off):       {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')!='Velocità 0' and  states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') =='off' and states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='off'}}
2)  Velocità diversa da 0 e con PdR Off su tutte le Velocità  e (Spia FreeHeating Programmato su On o FreeCooling Programmato su On):   {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')!='Velocità 0' and  states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') =='off' and states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'off' and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='on') }}
3)  Velocità diversa da 0 e con PdR On  su qualsiasi Velocità e (Spia FreeHeating Programmato su Off e FreeCooling Programmato su Off): {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') != 'Velocità 0' and (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'on') and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling') == 'off') }}
4)  Velocità diversa da 0 e con PdR On  su qualsiasi Velocità e (Spia FreeHeating Programmato su On o FreeCooling Programmato su On):   {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') != 'Velocità 0' and (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'on' or states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'on') and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating') == 'on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling') == 'on') }}

5)  Velocità 0 con PdR Off su tutte le Velocità               e (Spia FreeHeating Programmato su Off e FreeCooling Programmato su Off): {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and  states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') =='off' and states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='off'}}
6)  Velocità 0 con PdR Off su tutte le Velocità               e (Spia FreeHeating Programmato su On o FreeCooling Programmato su On):   {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and  states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') == 'off'  and states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') =='off' and states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') == 'off' and states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') == 'off' and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='on' or states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='on')}}

7)  Velocità 0 con PdR su Velocità 1:                    {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')=='on'}}
8)  Velocità 0 con PdR su Velocità 2:                    {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')=='on'}}
9)  Velocità 0 con PdR su Velocità 3:                    {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')=='on'}}
10) Velocità 0 con PdR su Velocità 4:                    {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')=='on'}}
11) Velocità 0 con PdR su Velocità Notturna:             {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')=='on'}}
12) Velocità 0 con PdR su Velocità Iperventilazione:     {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')=='on'}}
13) Velocità 0 con PdR su Velocità Free Heating/Cooling: {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')=='on'}}
---------------------------------------------------------------------------------------------------------------------
Spia Velocità 0 con Ritorno a Velocità 0 CO₂ e/o VOC 1° Avvio: {{ states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0') }}

Spia Velocità 0 CO₂ e/o VOC 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_0_co2_o_voc') }}
Spia Velocità 1 CO₂ e/o VOC 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc') }}
Spia Velocità 2 CO₂ e/o VOC 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_2_co2_o_voc') }}
Spia Velocità 3 CO₂ e/o VOC 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_3_co2_o_voc') }}
Spia Velocità 4 CO₂ e/o VOC 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_4_co2_o_voc') }}
Spia Velocità Notturna CO₂ e/o VOC 1° Avvio:                   {{ states('input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc') }}
Spia Velocità Iperventilazione CO₂ e/o VOC 1° Avvio:           {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc') }}
Spia Velocità Free Heating / Cooling CO₂ e/o VOC 1° Avvio:     {{ states('input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc') }}

[Spia Inquinanti CO2 e/o VOC Rilevati [solo con Interruttore Inquinanti CO2 e VOC Acceso] [Automazione]]:
  - Spia Velocità 0 CO₂ e/o VOC 1° Avvio + Vel. 0:                           {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 0' }}
  - Spia Velocità 1 CO₂ e/o VOC 1° Avvio + Vel. 1:                           {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 1' }}
  - Spia Velocità 2 CO₂ e/o VOC 1° Avvio + Vel. 2:                           {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 2' }}
  - Spia Velocità 3 CO₂ e/o VOC 1° Avvio + Vel. 3:                           {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 3' }}
  - Spia Velocità 4 CO₂ e/o VOC 1° Avvio + Vel. 4:                           {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità 4' }}
  - Spia Velocità Notturna CO₂ e/o VOC 1° Avvio+ Vel. Notturna:              {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Notturna' }}
  - Spia Velocità Iperventilazione CO₂ e/o VOC 1° Avvio + Vel. Iperv.:       {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Iperventilazione' }}
  - Spia Velocità Free Heating/Cooling CO₂ e/o VOC 1° Avvio + Vel. Free H/C: {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Free Cooling' }}

[Spia Inquinanti CO2 e/o VOC Rilevati [solo con Interruttore Inquinanti CO2 e VOC Acceso] [Automazione]]:
  - Condizioni Sfavorevoli Velocità 0: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 0")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità 0:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità 1: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 1")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità 1:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità 2: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 2")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità 2:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità 3: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 3")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità 3:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità 4: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 4")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità 4:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità Notturna: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Notturna")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità Notturna:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità Iperventilazione: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Iperventilazione")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità Iperventilazione:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

  - Condizioni Sfavorevoli Velocità Free Cooling/Heating: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Free Cooling")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
  - Condizioni Favorevoli Velocità Free Cooling/Heating:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}

Boolenas:
PdR Velocità 0 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') }}
PdR Velocità 1 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') }}
PdR Velocità 2 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') }}
PdR Velocità 3 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') }}
PdR Velocità 4 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') }}
PdR Velocità Notturna 1° Avvio:                   {{ states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') }}
PdR Velocità Free-Cooling 1° Avvio:               {{ states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') }}
PdR Iperventilazione 1° Avvio:                    {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') }}

Spia 1° Avvio a Velocita 0 con Spia Inquinanti CO2 e/o VOC Rilevati Vs PdR: {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')}}
-------------------------------------------------------------------------------------- Fine Inquinanti CO2 e/o VOC

-------------------------------------------------------------------------------------- Inzio Cambio IP e/o Nome VMC
IP Inserito per Cambio IP VMC:     {{ states('input_text.vmc_master_ip_insert')}}
Nome Inserito per Cambio Nome VMC: {{ states('input_text.vmc_master_nome_da_inserire')}}
-------------------------------------------------------------------------------------- Fine Cambio IP e/o Nome VMC

-------------------------------------------------------------------------------------- Inzio Verifica Repository
Repository:                      {{ states('sensor.vmc_master_versione_repository')}}
Repository Versione Corrente:    {{ states('sensor.vmc_master_versione_corrente')}}
E' ora di Aggiornare il Package: {{ states('sensor.vmc_master_versione_repository') != states('sensor.vmc_master_versione_corrente') and states('input_boolean.vmc_master_popup_versione_corrente_vs_repository')=="off" }}
PopUp 1 solo Avvio:              {{ states('input_boolean.vmc_master_popup_versione_corrente_vs_repository')}}
-------------------------------------------------------------------------------------- Fine Verifica Repository

-------------------------------------------------------------------------------------- Inizio Valori Offset
Verifica se i Valori Offset sono settati Tutti al minimo [OK] o [NOT OK]: {{ states('sensor.vmc_master_alert_monitoraggio_offset_tutti_min')}}

Valore Minimo Tem. Esterna, che si può settare: {{ state_attr('input_number.vmc_master_offset_temp_esterna', 'min') | float  }}
Valore Minimo Tem. Interna, che si può settare: {{ state_attr('input_number.vmc_master_offset_temp_interna', 'min') | float  }}
Valore Minimo Umidità Esterna, che si può settare: {{ state_attr('input_number.vmc_master_offset_umidita_esterna', 'min') | float  }}
Valore Minimo Umidità Interna, che si può settare: {{ state_attr('input_number.vmc_master_offset_umidita_interna', 'min') | float  }}
Valore Minimo CO₂, che si può settare:             {{ state_attr('input_number.vmc_master_offset_co2', 'min') | float  }}
Valore Minimo VOC, che si può settare:             {{ state_attr('input_number.vmc_master_offset_voc', 'min') | float  }}


Valore Tem. Esterna, Settato:          {{ states('input_number.vmc_master_offset_temp_esterna') | float  }}
Valore Tem. Interna, Settato:          {{ states('input_number.vmc_master_offset_temp_interna') | float  }}
Valore Umidità Esterna, Settato:       {{ states('input_number.vmc_master_offset_umidita_esterna') | float  }}
Valore Umidità Interna, Settato:       {{ states('input_number.vmc_master_offset_umidita_interna') | float  }}
Valore Minimo CO₂, che si può settare: {{ states('input_number.vmc_master_offset_co2') | float  }}
Valore Minimo VOC, che si può settare: {{ states('input_number.vmc_master_offset_voc') | float  }}
-------------------------------------------------------------------------------------- Fine Valori Offset

-------------------------------------------------------------------------------------- Inzio Free Heating / Free Cooling
ATTENZIONE VIENE DATA LA PRIORITA' ALL'ASPIRAZIONDE DEGLI INQUINANTI

Mese Corrente Programmato: {{states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')}}  
Velocità Attuale:          {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')}}
Verifica Allerte Free Heating o Free Cooling Non Programmati [AUTOMAZIONE]: {{ states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling')}}         
------
FREE HAETING:
Verifica Possibilità di Impiego del Free Heating nel Mese corrente: {{ states('sensor.vmc_master_status_freeheating')=="OK"}}
Velocità Free Heating:                                              {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato_interfaccia')=="Free Heating"}}
Verifica Interruttore Attivazione ON/OFF Free Heating:              {{states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating')=="on"}}
Verifica Corretto Inserimento Free Heating/Free Cooling:            {{ states('sensor.vmc_master_status_check_freeheating_freecooling')=="OK"}}
Verifica Impiego Free Heating per Temp. Interna < Tem. Esterna:     {{ states('sensor.vmc_master_temp_interna_status') | float(0) < states('sensor.vmc_master_temp_esterna_status') | float(0)}}
  - Temperatura Interna:  {{ states('sensor.vmc_master_temp_interna_status')}}
  - Temperatura Esterna:  {{ states('sensor.vmc_master_temp_esterna_status')}}
   
Attivazione Free Heating Programmato -> Vel. 0:                     {{ (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling') == 'Allerta Free Heating Programmato (Raffrescamento in atto)') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}                            
Disattivazione Free Heating Programmato -> Vel. Free Heating:       {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) > states('sensor.vmc_master_temp_interna_status') | float(0)) and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling') == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off') }}
Spia 1° Avvio Free Heating:                                         {{states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')}}

------
FREE COOLING:
Verifica Possibilità di Impiego del Free Cooling nel Mese corrente: {{ states('sensor.vmc_master_status_freecooling')=="OK"}}
Velocità Free Cooling:                                              {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato_interfaccia')=="Free Cooling"}}
Verifica Interruttore Attivazione ON/OFF Free Cooling:              {{states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling')=="on"}}
Verifica Corretto Inserimento Free Heating/Free Cooling:            {{ states('sensor.vmc_master_status_check_freeheating_freecooling')=="OK"}}
Verifica Impiego Free Cooling per Tem. Esterna < Temp. Interna      {{ states('sensor.vmc_master_temp_esterna_status') | float(0) < states('sensor.vmc_master_temp_interna_status') | float(0)}}
  - Temperatura Esterna:   {{ states('sensor.vmc_master_temp_esterna_status')}}
  - Temperatura Interna:   {{ states('sensor.vmc_master_temp_interna_status')}}

Attivazione Free Cooling Programmato -> Vel. 0:                     {{ (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling') == 'Allerta Free Cooling Programmato (Riscaldamento in atto)') and (states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')=="Free Cooling") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}           
Disattivazione Free Cooling Programmato -> Vel. Free Cooling:       {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) < states('sensor.vmc_master_temp_interna_status') | float(0)) and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling') == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
Spia 1° Avvio Free Cooling:                                         {{states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')}}

-------------------------------------------------------------------------------------- Fine Free Heating / Free Cooling

-------------------------------------------------------------------------------------- Inzio Calendario
ATTENZIONE VIENE DATA LA PRIORITA' ALL'ASPIRAZIONDE DEGLI INQUINANTI

Richiesta uso VMC ON/OFF, in Funzione del Calendario: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')}}
Disattivazione: VMC ON/OFF, in Funzione del Calendario, precedentemente Armato: {{ (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')=='off') and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='on') or (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='on') or (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='on') )}}

Presenza di Inquinanti con Interruttore Inquinanti CO2 e VOC [ON] ?  {{states('input_boolean.vmc_master_spia_co2_o_voc')}}

Velocità Prima Fascia:   {{ states('input_select.vmc_master_speed_1_fascia_calendario')}}
Velocità Seconda Fascia: {{ states('input_select.vmc_master_speed_2_fascia_calendario')}}

Accensione 1° Fascia:    {{ states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_interfaccia')}}
Spegnimento 1° Fascia:   {{ states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_interfaccia')}}

Accensione 2° Fascia:    {{ states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2_interfaccia')}}
Spegnimento 2° Fascia:   {{ states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2_interfaccia')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Lunedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Lunedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Lunedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_lunedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_lunedi'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Lunedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Lunedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Lunedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_lunedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_lunedi'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Lunedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Lunedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Lunedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_lunedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_lunedi_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Lunedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Lunedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Lunedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_lunedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_lunedi_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Martedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Martedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Martedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_martedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_martedi'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Martedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Martedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Martedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_martedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_martedi'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Martedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Martedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Martedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_martedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_martedi_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Martedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Martedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Martedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_martedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_martedi_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Mercoledì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Mercoledi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Mercoledi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_mercoledi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_mercoledi'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Mercoledì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Mercoledi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Mercoledi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_mercoledi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_mercoledi'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Mercoledì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Mercoledi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Mercoledi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_mercoledi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_mercoledi_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Mercoledì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Mercoledi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Mercoledi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_mercoledi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_mercoledi_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Giovedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Giovedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Giovedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_giovedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_giovedi'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Giovedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Giovedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Giovedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_giovedi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_giovedi'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Giovedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Giovedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Giovedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_giovedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_giovedi_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Giovedì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Giovedi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Giovedi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_giovedi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_giovedi_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Venerdì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Venerdi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Venerdi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_venerdi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_venerdi'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Venerdì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Venerdi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Venerdi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_venerdi'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_venerdi'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Venerdì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Venerdi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Venerdi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_venerdi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_venerdi_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Venerdì: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Venerdi") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Venerdi") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_venerdi_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_venerdi_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Sabato: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Sabato") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Sabato") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_sabato'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_sabato'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Sabato: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Sabato") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Sabato") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_sabato'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_sabato'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Sabato: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Sabato") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Sabato") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_sabato_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_sabato_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Sabato: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Sabato") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Sabato") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_sabato_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_sabato_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
--------------------------------------------------------------------------------------
All'Interno della 1° Fascia Domenica: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') == "Domenica") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')== "Domenica") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_domenica'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_domenica'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Esterno della 1° Fascia Domenica: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')  == "Domenica") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') == "Domenica") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_domenica'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_domenica'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
All'Interno della 2° Fascia Domenica: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Domenica") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')== "Domenica") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_domenica_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_domenica_2'), '%H:%M:%S').strftime('%H:%M')))==true) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
All'Esterno della 2° Fascia Domenica: {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2') == "Domenica") and (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2') == "Domenica") and (now().strftime('%H:%M') >= strptime(states('input_datetime.vmc_master_accensione_domenica_2'), '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') < strptime(states('input_datetime.vmc_master_spegnimento_domenica_2'), '%H:%M:%S').strftime('%H:%M')))==false) and (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}

Calendario - NELLA FASCIA [TRUE se è nella Fascia, FALSE se non rientra nella fascia]:
vmc_master_spia_calendario_lunedi_1:    {{ states('input_boolean.vmc_master_spia_calendario_lunedi_1')}}
vmc_master_spia_calendario_lunedi_2:    {{ states('input_boolean.vmc_master_spia_calendario_lunedi_2')}}
vmc_master_spia_calendario_martedi_1:   {{ states('input_boolean.vmc_master_spia_calendario_martedi_1')}}
vmc_master_spia_calendario_martedi_2:   {{ states('input_boolean.vmc_master_spia_calendario_martedi_2')}}
vmc_master_spia_calendario_mercoledi_1: {{ states('input_boolean.vmc_master_spia_calendario_mercoledi_1')}}
vmc_master_spia_calendario_mercoledi_2: {{ states('input_boolean.vmc_master_spia_calendario_mercoledi_2')}}
vmc_master_spia_calendario_giovedi_1:   {{ states('input_boolean.vmc_master_spia_calendario_giovedi_1')}}
vmc_master_spia_calendario_giovedi_2:   {{ states('input_boolean.vmc_master_spia_calendario_giovedi_2')}}
vmc_master_spia_calendario_venerdi_1:   {{ states('input_boolean.vmc_master_spia_calendario_venerdi_1')}}
vmc_master_spia_calendario_venerdi_2:   {{ states('input_boolean.vmc_master_spia_calendario_venerdi_2')}}
vmc_master_spia_calendario_sabato_1:    {{ states('input_boolean.vmc_master_spia_calendario_sabato_1')}}
vmc_master_spia_calendario_sabato_2:    {{ states('input_boolean.vmc_master_spia_calendario_sabato_2')}}
vmc_master_spia_calendario_domenica_1:  {{ states('input_boolean.vmc_master_spia_calendario_domenica_1')}}
vmc_master_spia_calendario_domenica_2:  {{ states('input_boolean.vmc_master_spia_calendario_domenica_2')}}
-------------------------------------------------------------------------------------- Fine Calendario

-------------------------------------------------------------------------------------- Inzio CONDIZIONI SFAVOREVOLI Lim. P. di Rugiada
ATTENZIONE VIENE DATA LA PRIORITA' ALL'ASPIRAZIONDE DEGLI INQUINANTI

Status VMC:                                                     {{ states('sensor.vmc_master_status_ip_interfaccia')}}
Velocità Attuale:                                               {{ states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')}}
Interruttore Lim. Δ P. di Rugiada:                              {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')}} [Boolean]
Verifica Lim. Δ P. di Rugiada:                                  {{states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')}}
Verifica Superamento del Lim. P. di Rugiada:                    {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') }}

Disattivazione: VMC ON/OFF, in Funzione del Lim. Δ P. di Rugiada, precedentemente Armato: {{ (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')=='off') and ( (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')== 'on') or (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')=='on') or (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')=='on'))}}

[ Spia Inquinanti CO2 e/o VOC NON Rilevati [solo con Interruttore Inquinanti CO2 e VOC Acceso] [Automazione] ]
  - Condizioni Sfavorevoli Velocità 0: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 0")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità 0:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
  - Condizioni Favorevoli Ripristinate su Velocità 0 se Spia Inquinanti OFF Vs PdR: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità 1: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 1")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità 1:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off' and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità 2: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 2")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità 2:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità 3: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 3")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità 3:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità 4: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 4")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità 4:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità Notturna: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Notturna")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità Notturna:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità Iperventilazione: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Iperventilazione")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità Iperventilazione:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

  - Condizioni Sfavorevoli Velocità Free Cooling/Heating: {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se ne sconsiglia l'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Free Cooling")) and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')  and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
  - Condizioni Favorevoli Velocità Free Cooling/Heating:  {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se ne sconsiglia l\'impiego") and (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') == 'on') and (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')== 'on') and states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'  and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}

Boolenas:
PdR Velocità 0 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio') }}
PdR Velocità 1 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio') }}
PdR Velocità 2 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio') }}
PdR Velocità 3 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio') }}
PdR Velocità 4 1° Avvio:                          {{ states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio') }}
PdR Velocità Notturna 1° Avvio:                   {{ states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio') }}
PdR Velocità Free-Cooling 1° Avvio:               {{ states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio') }}
PdR Iperventilazione 1° Avvio:                    {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio') }}

Spia 1° Avvio PdR Attivato a Velocita 0 con Spia Inquinanti CO2 e/o VOC Rilevati [ -> Velocità 1]
Terminato l'inquinamento e con il PdR rientrato -> Velocità 0: {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')}}
--------------------------------------------------------------------------------------- Fine CONDIZIONI SFAVOREVOLI Lim. P. di Rugiada

--------------------------------------------------------------------------------------- Inzio Black-Out
Black-Out On a Velocità 0:                        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 0") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità 1:                        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 1") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità 2:                        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 2") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità 3:                        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 3") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità 4:                        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Velocità 4") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità Notturna:                 {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Notturna") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità Iperventilazione:         {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Iperventilazione") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out On a Velocità Free Cooling:             {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') == "Free Cooling") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}

Black-Out Ripristino Velocità 0:                  {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_0')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità 1:                  {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_1')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità 2:                  {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_2')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità 3:                  {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_3')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità 4:                  {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_4')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità Notturna:           {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_notturna')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità Iperventilazione:   {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_iperventilazione')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}
Black-Out Ripristino Velocità FreeCooling:        {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and (states('input_boolean.vmc_master_spia_velocita_freecooling')=="on") and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off') and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off') )}}

Booleans:
Black Out - Spia Velocità 0:                      {{ states('input_boolean.vmc_master_spia_velocita_0') }}
Black Out - Spia Velocità 1:                      {{ states('input_boolean.vmc_master_spia_velocita_1') }}
Black Out - Spia Velocità 2:                      {{ states('input_boolean.vmc_master_spia_velocita_2') }}
Black Out - Spia Velocità 3:                      {{ states('input_boolean.vmc_master_spia_velocita_3') }}
Black Out - Spia Velocità 4:                      {{ states('input_boolean.vmc_master_spia_velocita_4') }}
Black Out - Spia Velocità Notturna:               {{ states('input_boolean.vmc_master_spia_velocita_notturna') }}
Black Out - Spia Velocità Free-Cooling:           {{ states('input_boolean.vmc_master_spia_velocita_freecooling') }}
Black Out - Spia Iperventilazione:                {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione') }}
--------------------------------------------------------------------------------------- Fine Black-Out

--------------------------------------------------------------------------------------- Inzio Monitoraggi
Allerta Monitoraggio Totale: {{ states('sensor.vmc_master_alert_monitoraggio_totale')=='Allerta'}}

- CO₂: {{states('sensor.vmc_master_co2_status_verifica_soglia')}}

- VOC: {{states('sensor.vmc_master_voc_status_verifica_soglia')}}

- {{states('sensor.vmc_master_umidita_interna_status_verifica_soglia_valore')}}

- {{states('sensor.vmc_master_punto_di_rugiada_verifica_confronto_valore')}} {{ states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')}}

- {{ states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling_allert_interfaccia_avvisi')}}

- {{states('sensor.vmc_master_delta_temp_verifica_soglia_valore')}}

- {{states('sensor.vmc_master_congelamento_verifica_soglia_valore')}}
--------------------------------------------------------------------------------------- Fine Monitoraggi

--------------------------------------------------------------------------------------- Inizio Tutti i Boolenas
FINESTRE:
vmc_master_opzioni_vmc:                                         {{ states('input_boolean.vmc_master_opzioni_vmc')}} 

vmc_master_opzioni_monitoraggio_sensori:                        {{ states('input_boolean.vmc_master_opzioni_monitoraggio_sensori')}}
  - vmc_master_opzioni_interruttore_offset_sensori:             {{ states('input_boolean.vmc_master_opzioni_interruttore_offset_sensori')}}
  - vmc_master_opzioni_interruttore_monitoraggio_sensori_extra: {{ states('input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra')}}

vmc_master_opzioni_interruttore_calendario:                     {{ states('input_boolean.vmc_master_opzioni_interruttore_calendario')}}

vmc_master_opzioni_offset_sensori:                              {{ states('input_boolean.vmc_master_opzioni_offset_sensori')}}
  - vmc_master_opzioni_punto_di_rugiada:                        {{ states('input_boolean.vmc_master_opzioni_punto_di_rugiada')}}
  - vmc_master_opzioni_calendario_main:                         {{ states('input_boolean.vmc_master_opzioni_calendario_main')}}
    - vmc_master_opzioni_calendario:                            {{ states('input_boolean.vmc_master_opzioni_calendario')}}
  - vmc_master_opzioni_free_heating_o_free_cooling:             {{ states('input_boolean.vmc_master_opzioni_free_heating_o_free_cooling')}}  

vmc_master_opzioni_avvisi_vmc:                                  {{ states('input_boolean.vmc_master_opzioni_avvisi')}} 
  - vmc_master_opzioni_avvisi_grafici:                          {{ states('input_boolean.vmc_master_opzioni_avvisi_grafici')}}

vmc_master_opzioni_lettura_sensori:                             {{ states('input_boolean.vmc_master_opzioni_lettura_sensori')}}

AUTOMAZIONI [Interruttori]:
vmc_master_opzioni_accendi_spegni_vmc_vs_pdr:         {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')}}
vmc_master_opzioni_accendi_spegni_vmc_vs_calendario:  {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')}}
vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating')}}
vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling')}}
vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc    {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc')}}

MOSTRA/NASCONDI AVVISI:
vmc_master_opzioni_accendi_spegni_avvisi:      {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_avvisi')}}
vmc_master_opzioni_accendi_spegni_avvisi_spia: {{ states('input_boolean.vmc_master_opzioni_accendi_spegni_avvisi_spia')}}

INQUINANTI CO2 E VOC:
vmc_master_spia_co2_o_voc:                             {{ states('input_boolean.vmc_master_spia_co2_o_voc')}}                   
vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0: {{ states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0') }}
vmc_master_spia_velocita_0_co2_o_voc:                  {{ states('input_boolean.vmc_master_spia_velocita_0_co2_o_voc') }}
vmc_master_spia_velocita_1_co2_o_voc:                  {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc') }}
vmc_master_spia_velocita_2_co2_o_voc:                  {{ states('input_boolean.vmc_master_spia_velocita_2_co2_o_voc') }}
vmc_master_spia_velocita_3_co2_o_voc:                  {{ states('input_boolean.vmc_master_spia_velocita_3_co2_o_voc') }}
vmc_master_spia_velocita_4_co2_o_voc:                  {{ states('input_boolean.vmc_master_spia_velocita_4_co2_o_voc') }}
vmc_master_spia_velocita_iperventilazione_co2_o_voc:   {{ states('input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc') }}
vmc_master_spia_velocita_notturna_co2_o_voc:           {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc') }}
vmc_master_spia_velocita_freecooling_co2_o_voc:        {{ states('input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc') }}

SPIA ATTIVAZIONE FREE HEATING / FREE COOLING:
vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling: {{ states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')}}
vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating: {{ states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')}}

Calendario - NELLA FASCIA [TRUE se è nella Fascia, FALSE se non rientra nella fascia]:
vmc_master_spia_calendario_lunedi_1:    {{ states('input_boolean.vmc_master_spia_calendario_lunedi_1')}}
vmc_master_spia_calendario_lunedi_2:    {{ states('input_boolean.vmc_master_spia_calendario_lunedi_2')}}
vmc_master_spia_calendario_martedi_1:   {{ states('input_boolean.vmc_master_spia_calendario_martedi_1')}}
vmc_master_spia_calendario_martedi_2:   {{ states('input_boolean.vmc_master_spia_calendario_martedi_2')}}
vmc_master_spia_calendario_mercoledi_1: {{ states('input_boolean.vmc_master_spia_calendario_mercoledi_1')}}
vmc_master_spia_calendario_mercoledi_2: {{ states('input_boolean.vmc_master_spia_calendario_mercoledi_2')}}
vmc_master_spia_calendario_giovedi_1:   {{ states('input_boolean.vmc_master_spia_calendario_giovedi_1')}}
vmc_master_spia_calendario_giovedi_2:   {{ states('input_boolean.vmc_master_spia_calendario_giovedi_2')}}
vmc_master_spia_calendario_venerdi_1:   {{ states('input_boolean.vmc_master_spia_calendario_venerdi_1')}}
vmc_master_spia_calendario_venerdi_2:   {{ states('input_boolean.vmc_master_spia_calendario_venerdi_2')}}
vmc_master_spia_calendario_sabato_1:    {{ states('input_boolean.vmc_master_spia_calendario_sabato_1')}}
vmc_master_spia_calendario_sabato_2:    {{ states('input_boolean.vmc_master_spia_calendario_sabato_2')}}
vmc_master_spia_calendario_domenica_1:  {{ states('input_boolean.vmc_master_spia_calendario_domenica_1')}}
vmc_master_spia_calendario_domenica_2:  {{ states('input_boolean.vmc_master_spia_calendario_domenica_2')}}

Punto di Rugiada - ARMATO [TRUE]:
vmc_master_spia_velocita_0_un_solo_avvio:                {{ states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')}}
vmc_master_spia_velocita_1_un_solo_avvio:                {{ states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')}}
vmc_master_spia_velocita_2_un_solo_avvio:                {{ states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')}}
vmc_master_spia_velocita_3_un_solo_avvio:                {{ states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')}}
vmc_master_spia_velocita_4_un_solo_avvio:                {{ states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')}}
vmc_master_spia_velocita_iperventilazione_un_solo_avvio: {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')}}
vmc_master_spia_velocita_notturna_un_solo_avvio:         {{ states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')}}
vmc_master_spia_velocita_freecooling_un_solo_avvio:      {{ states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')}}
vmc_master_spia_velocita_1_co2_o_voc_pdr                 {{ states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')}}

Black-Out - ARMATO [TRUE]:
vmc_master_spia_velocita_0:                {{ states('input_boolean.vmc_master_spia_velocita_0')}}
vmc_master_spia_velocita_1:                {{ states('input_boolean.vmc_master_spia_velocita_1')}}
vmc_master_spia_velocita_2:                {{ states('input_boolean.vmc_master_spia_velocita_2')}}
vmc_master_spia_velocita_3:                {{ states('input_boolean.vmc_master_spia_velocita_3')}}
vmc_master_spia_velocita_4:                {{ states('input_boolean.vmc_master_spia_velocita_4')}}
vmc_master_spia_velocita_iperventilazione: {{ states('input_boolean.vmc_master_spia_velocita_iperventilazione')}}
vmc_master_spia_velocita_notturna:         {{ states('input_boolean.vmc_master_spia_velocita_notturna')}}
vmc_master_spia_velocita_freecooling:      {{ states('input_boolean.vmc_master_spia_velocita_freecooling')}}
--------------------------------------------------------------------------------------- Fine Tutti i Boolenas