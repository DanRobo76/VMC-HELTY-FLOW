alias: Automazione VMC Master
description: >-
  Automazione VMC Master Release v.3.0.0:

  - Invia Comandi alla VMC leggendone i valori Contenuti;

  - Permette l'accensione e lo spegnimento Automatico, in funzione delle 2 fasce
  orarie programmabili per ogni giorno della settimana;
   - Permette l'accensione e lo spegnimento Automatico, in funzione delle 2 fasce mensili programmabili per la Velocità impostata su Free Heating / Free Cooling;
   - Permette l'accensione e lo spegnimento Automatico, in funzione dei Parametri Ambientali (Lettura del Punto di Rugiada Esterno ed Interno)
   - Permette l'accensione e lo spegnimento Automatico, in funzione degli inquinanti (CO₂ e VOC);
   - Ripristina la Velocità precedente in caso di Black-Out, se la VMC ha una linea dedicata e/o se installato un relè domotico;
   - Avvisa in caso di Aggiornamento del Package;
   - Rinomina la VMC;
  - Permette di Cambiare l'IP della VMC.
trigger:
  - alias: Trigger Attivazione Finestra Avvisi Grafici
    platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_avvisi_grafici
    from: "off"
    to: "on"
    id: Opzioni Avvisi Grafici On
    enabled: true
  - alias: Trigger Disattivazione Finestra Avvisi Grafici
    platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_avvisi_grafici
    id: Opzioni Avvisi Grafici Off
    from: "on"
    to: "off"
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_vmc
    from: "off"
    to: "on"
    id: Opzioni Telecomando On
    alias: Trigger Attivazione Finestra Telecomando
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_vmc
    id: Opzioni Telecomando Off
    from: "on"
    to: "off"
    alias: Trigger Disattivazione Finestra Telecomando
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_monitoraggio_sensori
    to: "on"
    id: Opzioni Monitoraggio On
    alias: Trigger Attivazione Finestra Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_monitoraggio_sensori
    id: Opzioni Monitoraggio Off
    from: "on"
    to: "off"
    alias: Trigger Disattivazione Finestra Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
    from: "off"
    to: "on"
    id: Opzioni Sub Offset On
    alias: Trigger Attivazione Sotto Finestra Offset - Finestra Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
    from: "on"
    to: "off"
    id: Opzioni Sub Offset Off
    alias: Trigger Disattivazione Sotto Finestra Offset - Finestra Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
    from: "off"
    to: "on"
    id: Opzioni Sub Extra Sensori On
    alias: Trigger Attivazione Sotto Finestra Sensori Extra - Finestra Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
    from: "on"
    to: "off"
    id: Opzioni Sub Extra Sensori Off
    alias: >-
      Trigger Disattivazione Sotto Finestra Sensori Extra - Finestra
      Monitoraggio
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_calendario
    from: "off"
    to: "on"
    id: Opzioni Sub Programmazione Giornaliera On
    alias: Trigger Attivazione Programmazione Giornaliera
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_interruttore_calendario
    from: "on"
    to: "off"
    id: Opzioni Sub Programmazione Giornaliera Off
    alias: Trigger Disattivazione Programmazione Giornaliera
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_offset_sensori
    from: "off"
    to: "on"
    id: " Opzioni On"
    alias: Trigger Attivazione Finestra Opzioni
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_offset_sensori
    id: Opzioni Off
    from: "on"
    to: "off"
    alias: Trigger Disattivazione Finestra Opzioni
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_punto_di_rugiada
    alias: Trigger Attivazione Sotto Finestra Opzioni - Finestra Lim. Δ P. di Rugiada
    id: Opzioni Sub Lim. Δ P. di Rugiada On
    from: "off"
    to: "on"
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_punto_di_rugiada
    alias: >-
      Trigger Disattivazione Sotto Finestra Opzioni - Finestra Lim. Δ P. di
      Rugiada
    from: "on"
    to: "off"
    id: Opzioni Sub Lim. Δ P. di Rugiada Off
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_calendario_main
    alias: Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario Main
    id: Opzioni Sub Calendario Main On
    from: "off"
    to: "on"
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_calendario_main
    alias: Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario Main
    from: "on"
    to: "off"
    id: Opzioni Sub Calendario Main Off
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_calendario
    alias: Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario
    id: Opzioni Sub Calendario On
    from: "off"
    to: "on"
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_calendario
    alias: Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario
    from: "on"
    to: "off"
    id: Opzioni Sub Calendario Off
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
    alias: >-
      Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario Free
      Heating / Free Cooling
    id: Opzioni Sub Calendario Free H/C On
    from: "off"
    to: "on"
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
    alias: >-
      Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario Free
      Heating / Free Cooling
    from: "on"
    to: "off"
    id: Opzioni Sub Calendario Free H/C Off
    enabled: true
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_avvisi
    from: "off"
    to: "on"
    id: Opzioni Avvisi On
    alias: Trigger Attivazione Finestra Avvisi
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_avvisi
    id: Opzioni Avvisi Off
    from: "on"
    to: "off"
    alias: Trigger Disattivazione Finestra Avvisi
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_lettura_sensori
    from: "off"
    to: "on"
    id: Opzioni Informazioni On
    alias: Trigger Attivazione Finestra Informazioni
  - platform: state
    entity_id:
      - input_boolean.vmc_master_opzioni_lettura_sensori
    id: Opzioni Informazioni Off
    from: "on"
    to: "off"
    for:
      hours: 0
      minutes: 0
      seconds: 0
    alias: Trigger Disattivazione Finestra Informazioni
  - alias: >-
      Condizioni Sfavorevoli a Velocità 1 -> Imposta Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se
      ne sconsiglia l'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 1")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Vel. 1-> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità 2 -> Imposta Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 2")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Vel. 2-> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità 3 -> Imposta Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 3")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Vel. 3-> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità 4 -> Imposta Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 4")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Vel. 4-> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità Notturna -> Imposta Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Notturna")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Notturna -> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità Free Cool./Heat.-> Imposta Velocità 0 se
      Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Free Cooling")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Free-Cooling -> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli a Velocità Iperventilazione -> Imposta Velocità 0
      se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Iperventilazione")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: PdR Iperventilazione -> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità 1 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se
      ne sconsiglia l'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 1")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Vel. 1 se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità 2 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se
      ne sconsiglia l'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 2")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Vel. 2 se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità 3 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se
      ne sconsiglia l'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 3")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Vel. 3 se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità 4 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto') == "Se
      ne sconsiglia l'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Velocità 4")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Vel. 4 se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità Notturna se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Notturna")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Notturna se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità Free Cool./Heat. se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Free Cooling")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Free-Cooling se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Sfavorevoli a Velocità Iperventilazione se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')=="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      ((states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
      == "Iperventilazione")) and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: PdR Iperventilazione se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità 0 se Spia Inquinanti OFF Vs
      PdR
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'on')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Vel. 0 No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 1 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on')
      and
      states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Vel. 1 No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 2 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Vel. 2 No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 3 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Vel. 3 No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 4 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Vel. 4 No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Notturna se Spia Inquinanti
      OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Notturno No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Free Cool./Heat. se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Free Cool./Heat. No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Iperventilazione se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='off') }}
    id: Rip. Iperventilazione No PdR
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 1 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')== 'on')
      and
      states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')=='off'
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Vel. 1 No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 2 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Vel. 2 No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 3 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Vel. 3 No PdR  se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Condizioni Favorevoli Ripristinate su Velocità 4 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')== 'on')
      and (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')==
      'off') and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Vel. 4 No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Notturna se Spia Inquinanti
      ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Notturno No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Free Cool./Heat. se Spia
      Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Free Cool./Heat. No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Ripristinate su Velocità Iperventilazione se Spia
      Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_punto_di_rugiada_verifica_confronto')!="Se
      ne sconsiglia l\'impiego") and
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr') ==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')==
      'on') and
      (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr')== 'off')
      and (states('input_boolean.vmc_master_spia_co2_o_voc')=='on') }}
    id: Rip. Iperventilazione No PdR se Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Disattivazione: VMC ON/OFF, in Funzione del Lim. Δ P. di Rugiada,
      precedentemente Armato ed Attivato -> Velocità 0 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')=='off')
      and ( (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')==
      'on') or
      (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')=='on'))
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    for:
      hours: 0
      minutes: 0
      seconds: 4
    id: " Disattivazione Lim. Δ P. di Rugiada, precedentemente Armato ed Attivato"
  - alias: >-
      Disattivazione: VMC ON/OFF, in Funzione del Lim. Δ P. di Rugiada,
      precedentemente Armato ed Attivato -> Velocità 1 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')=='off')
      and ( (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')==
      'on') or
      (states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')=='on')
      or
      (states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')=='on'))
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    for:
      hours: 0
      minutes: 0
      seconds: 4
    id: " Disattivazione Lim. Δ P. di Rugiada, precedentemente Armato ed Attivato e Spia Inquinanti ON"
  - alias: >-
      Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Heating ->
      Vel. 0 se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{
      (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling')
      == 'Allerta Free Heating Programmato (Raffrescamento in atto)') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: TeVsTi Free-Heating -> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Cooling ->
      Vel. 0  se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{
      (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling')
      == 'Allerta Free Cooling Programmato (Riscaldamento in atto)') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: TeVsTi Free-Cooling -> Imposta Velocità 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Heating e
      Spia Inquinanti ON
    platform: template
    value_template: >-
      {{
      (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling')
      == 'Allerta Free Heating Programmato (Raffrescamento in atto)') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: TeVsTi Free-Heating e Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Cooling e
      Spia Inquinanti ON
    platform: template
    value_template: >-
      {{
      (states('sensor.vmc_master_alert_monitoraggio_free_heating_o_free_cooling')
      == 'Allerta Free Cooling Programmato (Riscaldamento in atto)') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: TeVsTi Free-Cooling e Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
      Free Heating se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) >=
      states('sensor.vmc_master_temp_interna_status') | float(0)) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') ==
      'off')}}
    id: "Rip. Free Heating No TeVsTi "
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
      Free Cooling se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) <=
      states('sensor.vmc_master_temp_interna_status') | float(0)) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')
      }}
    id: "Rip. Free Cooling No TeVsTi "
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
      Free Heating se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) >=
      states('sensor.vmc_master_temp_interna_status') | float(0)) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: Rip. Free Heating No TeVsTi e Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
      Free Cooling se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_temp_esterna_status') | float(0) <=
      states('sensor.vmc_master_temp_interna_status') | float(0)) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')
      }}
    id: Rip. Free Cooling No TeVsTi e Spia Inquinanti ON
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
      precedentemente Armato se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating')=="off")
      or
      (states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')!="Free
      Heating") ) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') ==
      'off')}}
    id: >-
      Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
      precedentemente Armato
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling
      precedentemente Armato se Spia Inquinanti OFF
    platform: template
    value_template: >-
      {{ (
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling')=="off")
      or
      (states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')!="Free
      Cooling") )  and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') ==
      'off')}}
    id: >-
      Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling
      precedentemente Armato
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
      precedentemente Armato  -> Vel. 1 se Spia Inquinanti ON
    platform: template
    value_template: >-
      {{ (
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freeheating')=="off")
      or
      (states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')!="Free
      Heating") ) and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating precedentemente Armato e Spia Inquinanti ON"
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling precedentemente Armato  -> Vel. 1 se Spia Inquinanti ON"
    platform: template
    value_template: >-
      {{ (
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_freecooling')=="off")
      or
      (states('sensor.vmc_master_status_mese_corrente_freeheating_o_freecooling')!="Free
      Cooling") )  and
      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
      == 'on') and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    id: " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling precedentemente Armato e Spia Inquinanti ON"
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Velocità 0") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out a Velocità 0
    alias: Black-Out Velocità 0 [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_0')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità 0 [OFF, Ripristino]
    id: Black-Out Off Vel. 0
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Velocità 1") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out a Velocità 1
    alias: Black-Out Velocità 1 [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_1')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità 1 [OFF, Ripristino]
    id: Black-Out Off Vel. 1
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Velocità 2") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out a Velocità 2
    alias: Black-Out Velocità 2 [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_2')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità 2 [OFF, Ripristino]
    id: Black-Out Off Vel. 2
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Velocità 3") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out a Velocità 3
    alias: Black-Out Velocità 3 [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_3')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità 3 [OFF, Ripristino]
    id: Black-Out Off Vel. 3
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Velocità 4") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out a Velocità 4
    alias: Black-Out Velocità 4 [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_4')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità 4 [OFF, Ripristino]
    id: Black-Out Off Vel. 4
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Notturna") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out Notturna
    alias: Black-Out Velocità Notturna [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_notturna')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità Notturna [OFF, Ripristino]
    id: Black-Out Off Notturna
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Iperventilazione") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out Iperventilazione
    alias: Black-Out Velocità Iperventilazione [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_iperventilazione')=="on")
      and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità Iperventilazione [OFF, Ripristino]
    id: Black-Out Off Iperventilazione
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "OFF-Line") and
      (states('sensor.vmc_master_status_ventola_lettura_codice_interpretato') ==
      "Free Cooling") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    id: Black-Out Free Cool./Heat.
    alias: Black-Out Velocità Free Cool./Heat. [ON]
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_status_ip_interfaccia') == "ON-Line") and
      (states('input_boolean.vmc_master_spia_velocita_freecooling')=="on") and (
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='off') and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='off')
      and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='off')
      and (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='off')
      )}}
    alias: Black-Out Velocità Free Cool./Heat. [OFF, Ripristino]
    id: Black-Out Off Free Cool./Heat.
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Lunedì
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Lunedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Lunedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_lunedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_lunedi'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Lunedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Lunedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Lunedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Lunedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_lunedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_lunedi'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Lunedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Lunedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Lunedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Lunedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_lunedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_lunedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Lunedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Lunedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Lunedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Lunedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_lunedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_lunedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Lunedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Martedì
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Martedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Martedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_martedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_martedi'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off') }}
    id: 1° Martedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Martedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Martedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Martedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_martedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_martedi'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off') }}
    id: 1° Martedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Martedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Martedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Martedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_martedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_martedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Martedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Martedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Martedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Martedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_martedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_martedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Martedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Mercoledì
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Mercoledi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Mercoledi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_mercoledi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_mercoledi'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off') }}
    id: 1° Mercoledì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Mercoledì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Mercoledi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Mercoledi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_mercoledi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_mercoledi'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Mercoledì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Mercoledì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Mercoledi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Mercoledi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_mercoledi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_mercoledi_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Mercoledì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Mercoledì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Mercoledi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Mercoledi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_mercoledi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_mercoledi_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Mercoledì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Giovedì
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Giovedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Giovedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_giovedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_giovedi'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Giovedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Giovedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Giovedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Giovedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_giovedi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_giovedi'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Giovedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Giovedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Giovedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Giovedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_giovedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_giovedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Giovedì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Giovedì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Giovedi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Giovedi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_giovedi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_giovedi_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Giovedì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Venerdì
    platform: template
    value_template: >
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Venerdi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Venerdi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_venerdi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_venerdi'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Venerdì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Venerdì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Venerdi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Venerdi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_venerdi'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_venerdi'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Venerdì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Venerdì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Venerdi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Venerdi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_venerdi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_venerdi_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Venerdì On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Venerdì
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Venerdi") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Venerdi") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_venerdi_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_venerdi_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Venerdì Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Sabato
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Sabato") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Sabato") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_sabato'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_sabato'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Sabato On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Sabato
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Sabato") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Sabato") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_sabato'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_sabato'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Sabato Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Sabato
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Sabato") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Sabato") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_sabato_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_sabato_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Sabato On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Sabato
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Sabato") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Sabato") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_sabato_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_sabato_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Sabato Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 1° Fascia Domenica
    platform: template
    value_template: >-
      {{ (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario')
      == "Domenica") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario')==
      "Domenica") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_domenica'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_domenica'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Domenica On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 1° Fascia Domenica
    platform: template
    value_template: >
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario') 
      == "Domenica") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario') ==
      "Domenica") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_domenica'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_domenica'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 1° Domenica Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Interno della 2° Fascia Domenica
    platform: template
    value_template: >
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Domenica") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')==
      "Domenica") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_domenica_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_domenica_2'),
      '%H:%M:%S').strftime('%H:%M')))==true) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}} 
    id: 2° Domenica On
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: All'Esterno della 2° Fascia Domenica
    platform: template
    value_template: >-
      {{
      (((states('sensor.vmc_master_status_accensione_vmc_tramite_calendario_2')
      == "Domenica") and
      (states('sensor.vmc_master_status_spegnimento_vmc_tramite_calendario_2')
      == "Domenica") and (now().strftime('%H:%M') >=
      strptime(states('input_datetime.vmc_master_accensione_domenica_2'),
      '%H:%M:%S').strftime('%H:%M') and now().strftime('%H:%M') <
      strptime(states('input_datetime.vmc_master_spegnimento_domenica_2'),
      '%H:%M:%S').strftime('%H:%M')))==false) and
      (states('sensor.vmc_master_status_ip_interfaccia')=="ON-Line") and
      (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='on') and
      (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    id: 2° Domenica Off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: >-
      Disattivazione: VMC ON/OFF, in Funzione del Calendario , precedentemente
      Armato ed Attivato tra le Fascie del Calendario -> Velocità 0 se Spia
      Inquinanti OFF
    platform: template
    value_template: >-
      {{
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')=='off')
      and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='on')
      or (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='on') )
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'off')}}
    for:
      hours: 0
      minutes: 0
      seconds: 4
    id: Calendario Off tra Fascie
  - alias: >-
      Disattivazione: VMC ON/OFF, in Funzione del Calendario , precedentemente
      Armato ed Attivato tra le Fascie del Calendario -> Velocità 1 se Spia
      Inquinanti ON
    platform: template
    value_template: >-
      {{
      (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')=='off')
      and ( (states('input_boolean.vmc_master_spia_calendario_lunedi_1')=='on')
      or (states('input_boolean.vmc_master_spia_calendario_lunedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_martedi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_martedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_mercoledi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_giovedi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_giovedi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_venerdi_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_venerdi_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_sabato_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_sabato_2')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_domenica_1')=='on') or
      (states('input_boolean.vmc_master_spia_calendario_domenica_2')=='on') )
      and (states('input_boolean.vmc_master_spia_co2_o_voc') == 'on')}}
    for:
      hours: 0
      minutes: 0
      seconds: 4
    id: Calendario Off tra Fascie e Spia Inquinanti ON
  - platform: template
    value_template: "{{ states('input_text.vmc_master_nome_da_inserire')!=\"\"}}"
    id: Cambio Nome VMC
    alias: Rinomina VMC
  - platform: state
    entity_id:
      - input_text.vmc_master_ip_insert
    id: Riscrivi IP
    alias: Cambio Indirizzo IP della VMC (Riavvio di H.A.)
  - platform: template
    value_template: "{{ states('sensor.vmc_master_alert_monitoraggio_totale')=='Allerta'}}"
    alias: Spia Avvisi On
    id: Spia Avvisi On
  - platform: template
    value_template: >-
      {{ states('sensor.vmc_master_alert_monitoraggio_totale')=='Nessuna
      Allerta' or states('sensor.vmc_master_alert_monitoraggio_totale')=='Non
      disponibile'}}
    alias: Spia Avvisi Off
    id: Spia Avvisi Off
  - platform: template
    value_template: >-
      {{ states('sensor.vmc_master_versione_repository') !=
      states('sensor.vmc_master_versione_corrente') and
      states('input_boolean.vmc_master_popup_versione_corrente_vs_repository')=="off"
      and states('sensor.vmc_master_versione_repository') != "Errore
      Connessione"}}
    alias: Verifica Aggiornamenti Repository VMC-HELTY-FLOW - ON
    id: Repository Update ON
    for:
      hours: 0
      minutes: 0
      seconds: 5
  - platform: template
    value_template: >-
      {{ states('sensor.vmc_master_versione_repository') ==
      states('sensor.vmc_master_versione_corrente') and
      states('sensor.vmc_master_versione_repository') != "Errore Connessione"}}
    alias: Verifica Aggiornamenti Repository VMC-HELTY-FLOW - OFF
    id: Repository Update OFF
  - alias: Attivazione Automatica VMC per Inquinanti CO2 e/o VOC Rilevati
    platform: template
    value_template: >-
      {{ (states('sensor.vmc_master_alert_monitoraggio_co2') == 'Allerta' or
      states('sensor.vmc_master_alert_monitoraggio_voc') == 'Allerta') and
      is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc',
      'on') }}
    id: inquinanti_co2_voc_on
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Disattivazione Automatica VMC per Inquinanti CO2 e/o VOC Rilevati
    platform: template
    value_template: >-
      {{ states('sensor.vmc_master_alert_monitoraggio_co2') != 'Allerta' and
      states('sensor.vmc_master_alert_monitoraggio_voc') != 'Allerta' and
      is_state('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc',
      'on')}}
    id: inquinanti_co2_voc_off
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità 0 CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
      0' }}
    id: spia_velocita_0_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 6
    enabled: true
  - alias: Spia Velocità 1 CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
      1' }}
    id: spia_velocita_1_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità 2 CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
      2' }}
    id: spia_velocita_2_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità 3 CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
      3' }}
    id: spia_velocita_3_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità 4 CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
      4' }}
    id: spia_velocita_4_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità Notturna CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Notturna'
      }}
    id: spia_velocita_notturna_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità Iperventilazione CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Iperventilazione'
      }}
    id: spia_velocita_iperventilazione_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: Spia Velocità Free Heating/Cooling CO₂ e/o VOC
    platform: template
    value_template: >-
      {{states('input_boolean.vmc_master_spia_co2_o_voc')=='on' and
      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Free
      Cooling' }}
    id: spia_velocita_freecooling_inquinanti_co2_voc
    for:
      hours: 0
      minutes: 0
      seconds: 4
  - alias: " Disattivazione VMC per Inquinanti CO2 e/o VOC, precedentemente Armato ed Attivato -> Tutte le Spie CO2 e/o VOC OFF -> Vel. 0"
    platform: template
    value_template: " {{ (states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_co2_e_voc')=='off') and ( (states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0')== 'on') or (states('input_boolean.vmc_master_spia_velocita_0_co2_o_voc')== 'on') or (states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_2_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_3_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_4_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc')=='on') or (states('input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc')=='on'))}}"
    id: " Disattivazione VMC per Inquinanti CO2 e/o VOC, precedentemente Armato ed Attivato"
    for:
      hours: 0
      minutes: 0
      seconds: 4
condition: []
action:
  - choose:
      - conditions:
          - condition: trigger
            id: Opzioni Telecomando On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_vmc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_avvisi
                - input_boolean.vmc_master_opzioni_avvisi_grafici
                - input_boolean.vmc_master_opzioni_offset_sensori
                - input_boolean.vmc_master_opzioni_monitoraggio_sensori
                - input_boolean.vmc_master_opzioni_lettura_sensori
                - input_boolean.vmc_master_opzioni_interruttore_calendario
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: Trigger Attivazione Finestra Telecomando
      - conditions:
          - condition: trigger
            id: Opzioni Telecomando Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_vmc
        alias: Trigger Disattivazione Finestra Telecomando
      - conditions:
          - condition: trigger
            id: Opzioni Monitoraggio On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_monitoraggio_sensori
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_avvisi
                - input_boolean.vmc_master_opzioni_avvisi_grafici
                - input_boolean.vmc_master_opzioni_offset_sensori
                - input_boolean.vmc_master_opzioni_vmc
                - input_boolean.vmc_master_opzioni_lettura_sensori
                - input_boolean.vmc_master_opzioni_interruttore_calendario
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: Trigger Attivazione Finestra Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Monitoraggio Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_monitoraggio_sensori
        alias: Trigger Disattivazione Finestra Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Sub Offset On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_interruttore_offset_sensori
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
        alias: Trigger Attivazione Sotto Finestra Offset - Finestra Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Sub Offset Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: Trigger Disattivazione Sotto Finestra Offset - Finestra Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Sub Extra Sensori On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: >-
          Trigger Attivazione Sotto Finestra Sensori Extra - Finestra
          Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Sub Extra Sensori Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
        alias: >-
          Trigger Attivazione Sotto Finestra Sensori Extra - Finestra
          Monitoraggio
      - conditions:
          - condition: trigger
            id: Opzioni Sub Programmazione Giornaliera On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_interruttore_calendario
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_lettura_sensori
                - input_boolean.vmc_master_opzioni_avvisi
                - input_boolean.vmc_master_opzioni_avvisi_grafici
                - input_boolean.vmc_master_opzioni_offset_sensori
                - input_boolean.vmc_master_opzioni_vmc
                - input_boolean.vmc_master_opzioni_monitoraggio_sensori
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: Trigger Attivazione Programmazione Giornaliera
      - conditions:
          - condition: trigger
            id: Opzioni Sub Programmazione Giornaliera Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_interruttore_calendario
        alias: Trigger Disattivazione Programmazione Giornaliera
      - conditions:
          - condition: trigger
            id: " Opzioni On"
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_offset_sensori
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_avvisi
                - input_boolean.vmc_master_opzioni_avvisi_grafici
                - input_boolean.vmc_master_opzioni_vmc
                - input_boolean.vmc_master_opzioni_monitoraggio_sensori
                - input_boolean.vmc_master_opzioni_lettura_sensori
                - input_boolean.vmc_master_opzioni_interruttore_calendario
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
        alias: Trigger Attivazione Finestra Opzioni
      - conditions:
          - condition: trigger
            id: Opzioni Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_offset_sensori
        alias: Trigger Disattivazione Finestra Opzioni
      - conditions:
          - condition: trigger
            id: Opzioni Sub Lim. Δ P. di Rugiada On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_punto_di_rugiada
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_calendario
        alias: >-
          Trigger Attivazione Sotto Finestra Opzioni - Finestra Lim. Δ P. di
          Rugiada
      - conditions:
          - condition: trigger
            id: Opzioni Sub Lim. Δ P. di Rugiada Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_punto_di_rugiada
        alias: >-
          Trigger Disattivazione Sotto Finestra Opzioni - Finestra Lim. Δ P. di
          Rugiada
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario Main On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_calendario_main
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - input_boolean.vmc_master_opzioni_calendario
        alias: Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario Main
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario Main Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_calendario_main
        alias: >-
          Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario
          Main
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_calendario
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
        alias: Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_calendario
        alias: Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario Free H/C On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - input_boolean.vmc_master_opzioni_calendario
        alias: >-
          Trigger Attivazione Sotto Finestra Opzioni - Finestra Calendario Free
          Heating / Free Cooling
      - conditions:
          - condition: trigger
            id: Opzioni Sub Calendario Free H/C Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
        alias: >-
          Trigger Disattivazione Sotto Finestra Opzioni - Finestra Calendario
          Free Heating / Free Cooling
      - conditions:
          - condition: trigger
            id:
              - Opzioni Avvisi On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_avvisi
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_vmc
                - input_boolean.vmc_master_opzioni_monitoraggio_sensori
                - input_boolean.vmc_master_opzioni_lettura_sensori
                - input_boolean.vmc_master_opzioni_interruttore_calendario
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_offset_sensori
                - input_boolean.vmc_master_opzioni_avvisi_grafici
        alias: Trigger Attivazione Finestra Avvisi
      - conditions:
          - condition: trigger
            id:
              - Opzioni Avvisi Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_avvisi
        alias: Trigger Disattivazione Finestra Avvisi
      - conditions:
          - condition: trigger
            id: Opzioni Informazioni On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_lettura_sensori
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_opzioni_avvisi
                - input_boolean.vmc_master_opzioni_avvisi_grafici
                - input_boolean.vmc_master_opzioni_offset_sensori
                - input_boolean.vmc_master_opzioni_vmc
                - input_boolean.vmc_master_opzioni_monitoraggio_sensori
                - input_boolean.vmc_master_opzioni_interruttore_calendario
                - input_boolean.vmc_master_opzioni_calendario
                - input_boolean.vmc_master_opzioni_calendario_main
                - input_boolean.vmc_master_opzioni_free_heating_o_free_cooling
                - input_boolean.vmc_master_opzioni_punto_di_rugiada
                - >-
                  input_boolean.vmc_master_opzioni_interruttore_monitoraggio_sensori_extra
                - input_boolean.vmc_master_opzioni_interruttore_offset_sensori
        alias: Trigger Attivazione Finestra Informazioni
      - conditions:
          - condition: trigger
            id: Opzioni Informazioni Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_lettura_sensori
        alias: Trigger Disattivazione Finestra Informazioni
      - conditions:
          - condition: trigger
            id: PdR Vel. 1-> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità 1 -> Velocità 0, memorizzando
              la Velocità 1
        alias: >-
          Condizioni Sfavorevoli a Velocità 1 -> Imposta Velocità 0 se Spia
          Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Vel. 2-> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità 2 -> Velocità 0, memorizzando
              la Velocità 2
        alias: >-
          Condizioni Sfavorevoli a Velocità 2 -> Imposta Velocità 0 se Spia
          Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Vel. 3-> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità 3 -> Velocità 0, memorizzando
              la Velocità 3
        alias: >-
          Condizioni Sfavorevoli a Velocità 3 -> Imposta Velocità 0 se Spia
          Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Vel. 4-> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità 4 -> Velocità 0, memorizzando
              la Velocità 4
        alias: >-
          Condizioni Sfavorevoli a Velocità 4 -> Imposta Velocità 0 se Spia
          Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Notturna -> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità Notturna -> Velocità 0,
              memorizzando la Velocità Notturna
        alias: >-
          Condizioni Sfavorevoli a Velocità Notturna -> Imposta Velocità 0 se
          Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Free-Cooling -> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità Free Cool./Heat. -> Velocità 0,
              memorizzando la Velocità Free Cool./Heat.
        alias: >-
          Condizioni Sfavorevoli a Velocità Free Cool./Heat.-> Imposta Velocità
          0 se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: PdR Iperventilazione -> Imposta Velocità 0
        sequence:
          - if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
              - service: shell_command.vmc_master_velocita_0
                data: {}
            alias: >-
              Condizioni Sfavorevoli su Velocità Iperventilazione -> Velocità 0,
              memorizzando la Velocità Iperventilazione
        alias: >-
          Condizioni Sfavorevoli a Velocità Iperventilazione -> Imposta Velocità
          0 se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - PdR Vel. 1 se Spia Inquinanti ON
        sequence:
          - alias: Condizioni Sfavorevoli a Velocità 1 se Spia Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
        alias: Condizioni Sfavorevoli a Velocità 1 se Spia Inquinanti ON
      - conditions:
          - alias: Condizioni Sfavorevoli a Velocità 2 se Spia Inquinanti ON
            condition: trigger
            id:
              - PdR Vel. 2 se Spia Inquinanti ON
        sequence:
          - alias: Condizioni Sfavorevoli a Velocità 2 se Spia Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
        alias: Condizioni Sfavorevoli a Velocità 2 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - PdR Vel. 3 se Spia Inquinanti ON
        sequence:
          - alias: Condizioni Sfavorevoli a Velocità 3 se Spia Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
        alias: Condizioni Sfavorevoli a Velocità 3 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - PdR Vel. 4 se Spia Inquinanti ON
        sequence:
          - alias: Condizioni Sfavorevoli a Velocità 4 se Spia Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
        alias: Condizioni Sfavorevoli a Velocità 4 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - PdR Notturna se Spia Inquinanti ON
        sequence:
          - alias: Condizioni Sfavorevoli a Velocità Notturna se Spia Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
        alias: Condizioni Sfavorevoli a Velocità Notturna se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - PdR Free-Cooling se Spia Inquinanti ON
        sequence:
          - alias: >-
              Condizioni Sfavorevoli a Velocità Free Cool./Heat. se Spia
              Inquinanti ON
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
        alias: >-
          Condizioni Sfavorevoli a Velocità Free Cool./Heat. se Spia Inquinanti
          ON
      - conditions:
          - alias: >-
              Condizioni Sfavorevoli a Velocità Iperventilazione se Spia
              Inquinanti ON
            condition: trigger
            id:
              - PdR Iperventilazione se Spia Inquinanti ON
        sequence:
          - alias: >-
              Condizioni Sfavorevoli su Velocità Iperventilazione -> Velocità 0,
              memorizzando la Velocità Iperventilazione
            if: []
            then:
              - service: input_boolean.turn_on
                data: {}
                target:
                  entity_id: >-
                    input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
              - service: input_boolean.turn_off
                data: {}
                target:
                  entity_id:
                    - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                    - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                    - >-
                      input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
        alias: >-
          Condizioni Sfavorevoli a Velocità Iperventilazione se Spia Inquinanti
          ON
      - conditions:
          - condition: trigger
            id: Rip. Vel. 0 No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità 0 se Spia Inquinanti
          OFF
      - conditions:
          - condition: trigger
            id: Rip. Vel. 1 No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
          - service: shell_command.vmc_master_velocita_1
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità 1 se Spia Inquinanti
          OFF
      - conditions:
          - condition: trigger
            id: Rip. Vel. 2 No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
          - service: shell_command.vmc_master_velocita_2
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità 2 se Spia Inquinanti
          OFF
      - conditions:
          - condition: trigger
            id: Rip. Vel. 3 No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
          - service: shell_command.vmc_master_velocita_3
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità 3 se Spia Inquinanti
          OFF
      - conditions:
          - condition: trigger
            id: Rip. Vel. 4 No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
          - service: shell_command.vmc_master_velocita_4
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità 4 se Spia Inquinanti
          OFFF
      - conditions:
          - condition: trigger
            id: Rip. Notturno No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
          - service: shell_command.vmc_master_notturna
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Notturna se Spia
          Inquinanti OFF
      - conditions:
          - condition: trigger
            id: Rip. Free Cool./Heat. No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
          - service: shell_command.vmc_master_freecooling
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Free Cool./Heat. se
          Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: Rip. Iperventilazione No PdR
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
          - service: shell_command.vmc_master_iperventilazione
            data: {}
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Iperventilazione se
          Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - Rip. Vel. 1 No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
          - service: shell_command.vmc_master_velocita_1
            data: {}
            enabled: false
        alias: Condizioni Favorevoli Ripristinate su Velocità 1 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Vel. 2 No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
          - service: shell_command.vmc_master_velocita_2
            data: {}
            enabled: false
        alias: Condizioni Favorevoli Ripristinate su Velocità 2 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Vel. 3 No PdR  se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
          - service: shell_command.vmc_master_velocita_3
            data: {}
            enabled: false
        alias: Condizioni Favorevoli Ripristinate su Velocità 3 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Vel. 4 No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
          - service: shell_command.vmc_master_velocita_4
            data: {}
            enabled: false
        alias: Condizioni Favorevoli Ripristinate su Velocità 4 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Notturno No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
          - service: shell_command.vmc_master_notturna
            data: {}
            enabled: false
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Notturna se Spia
          Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Free Cool./Heat. No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
          - service: shell_command.vmc_master_freecooling
            data: {}
            enabled: false
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Free Cool./Heat. se
          Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Iperventilazione No PdR se Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
          - service: shell_command.vmc_master_iperventilazione
            data: {}
            enabled: false
        alias: >-
          Condizioni Favorevoli Ripristinate su Velocità Iperventilazione se
          Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id: " Disattivazione Lim. Δ P. di Rugiada, precedentemente Armato ed Attivato"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: >-
          Disattivazione: VMC ON/OFF, in Funzione del Lim. Δ P. di Rugiada,
          precedentemente Armato ed Attivato -> Velocità 0 se Spia Inquinanti
          OFF
      - conditions:
          - condition: trigger
            id:
              - " Disattivazione Lim. Δ P. di Rugiada, precedentemente Armato ed Attivato e Spia Inquinanti ON"
        sequence:
          - wait_template: >-
              {{
              (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
              =='on' or
              states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
              =='on') and
              states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_pdr')
              =='off' }}
            continue_on_timeout: true
            alias: >-
              PdR - [Spia TRUE se Attivato] e Interruttore VMC ON/OFF, in
              Funzione del Lim. Δ P. di Rugiada OFF
          - alias: "Tutte le Spie PdR su OFF "
            service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
            enabled: true
          - service: input_boolean.turn_on
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
            data: {}
            enabled: true
          - service: shell_command.vmc_master_velocita_1
            data: {}
            alias: Imposta Velocità 1 a Causa dell'Inquinamento presente
            enabled: true
        alias: >-
          Disattivazione: VMC ON/OFF, in Funzione del Lim. Δ P. di Rugiada,
          precedentemente Armato ed Attivato -> Velocità 1 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id: TeVsTi Free-Heating -> Imposta Velocità 0
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: >-
          Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Heating
          -> Vel. 0 se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: TeVsTi Free-Cooling -> Imposta Velocità 0
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: >-
          Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Cooling
          -> Vel. 0  se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: "Rip. Free Heating No TeVsTi "
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: shell_command.vmc_master_freecooling
            data: {}
        alias: >-
          Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
          Free Heating se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id: "Rip. Free Cooling No TeVsTi "
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
          - service: shell_command.vmc_master_freecooling
            data: {}
        alias: >-
          Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
          Free Cooling se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - TeVsTi Free-Heating e Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
        alias: >-
          Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Heating
          e Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - TeVsTi Free-Cooling e Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
        alias: >-
          Condizioni Sfavorevoli Temp. Ext Vs Temp. Int. a Velocità Free Cooling
          e Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Free Heating No TeVsTi e Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: shell_command.vmc_master_freecooling
            data: {}
            enabled: true
        alias: >-
          Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
          Free Heating se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Rip. Free Cooling No TeVsTi e Spia Inquinanti ON
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
          - service: shell_command.vmc_master_freecooling
            data: {}
            enabled: true
        alias: >-
          Condizioni Favorevoli Temp. Ext Vs Temp. Int. Ripristinate su Velocità
          Free Cooling se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - >-
                Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
                precedentemente Armato
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
        alias: >-
          Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
          precedentemente Armato se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - >-
                Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling
                precedentemente Armato
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
        alias: >-
          Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling
          precedentemente Armato se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating precedentemente Armato e Spia Inquinanti ON"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_on
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
            data: {}
            enabled: true
          - service: shell_command.vmc_master_velocita_1
            data: {}
            alias: Imposta Velocità 1 a Causa dell'Inquinamento presente
            enabled: true
        alias: >-
          Disattivazione VMC ON/OFF, in Funzione della Vel. Free Heating
          precedentemente Armato  -> Vel. 1 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling precedentemente Armato e Spia Inquinanti ON"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
          - service: input_boolean.turn_on
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
            data: {}
            enabled: true
          - service: shell_command.vmc_master_velocita_1
            data: {}
            alias: Imposta Velocità 1 a Causa dell'Inquinamento presente
            enabled: true
        alias: " Disattivazione VMC ON/OFF, in Funzione della Vel. Free Cooling precedentemente Armato  -> Vel. 1 se Spia Inquinanti ON"
      - conditions:
          - condition: trigger
            id: Black-Out a Velocità 0
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Vel. 0
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_velocita_0
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out a Velocità 1
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Vel. 1
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_velocita_1
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out a Velocità 2
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Vel. 2
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
            enabled: true
          - service: shell_command.vmc_master_velocita_2
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out a Velocità 3
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_3
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Vel. 3
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_velocita_3
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out a Velocità 4
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_4
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Vel. 4
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_velocita_4
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out Notturna
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_notturna
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Notturna
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_notturna
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out Iperventilazione
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_iperventilazione
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
      - conditions:
          - condition: trigger
            id: Black-Out Off Iperventilazione
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_iperventilazione
            data: {}
      - conditions:
          - condition: trigger
            id: Black-Out Free Cool./Heat.
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_freecooling
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_iperventilazione
      - conditions:
          - condition: trigger
            id: Black-Out Off Free Cool./Heat.
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_notturna
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
            enabled: true
          - service: shell_command.vmc_master_freecooling
            data: {}
      - conditions:
          - condition: trigger
            id: 1° Lunedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_lunedi_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Lunedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_lunedi_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Lunedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_lunedi_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Lunedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_lunedi_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Martedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_martedi_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Martedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_martedi_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Martedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_martedi_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Martedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_martedi_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Mercoledì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_mercoledi_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Mercoledì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_mercoledi_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Mercoledì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_mercoledi_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Mercoledì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_mercoledi_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Giovedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_giovedi_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Giovedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_giovedi_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Giovedì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_giovedi_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Giovedì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_giovedi_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Venerdì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_venerdi_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Venerdì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_venerdi_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Venerdì On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_venerdi_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Venerdì Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_venerdi_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Sabato On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_sabato_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Sabato Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_sabato_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Sabato On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_sabato_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Sabato Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_sabato_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 1° Domenica On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 1° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_1_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_domenica_1
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 1° Domenica Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_domenica_1
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: 2° Domenica On
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - alias: >-
              Scelta della Velocità Impostata di Default nella 2° Fascia
              Calendario
            choose:
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 0
                sequence:
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 1
                sequence:
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 2
                sequence:
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 3
                sequence:
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Velocità 4
                sequence:
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Notturna
                sequence:
                  - service: shell_command.vmc_master_notturna
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Iperventilazione
                sequence:
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
              - conditions:
                  - condition: state
                    entity_id: input_select.vmc_master_speed_2_fascia_calendario
                    state: Free Cool./Heat.
                sequence:
                  - service: shell_command.vmc_master_freecooling
                    data: {}
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_domenica_2
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
      - conditions:
          - condition: trigger
            id: 2° Domenica Off
          - condition: state
            entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario
            state: "on"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_0
                - input_boolean.vmc_master_spia_velocita_1
                - input_boolean.vmc_master_spia_velocita_2
                - input_boolean.vmc_master_spia_velocita_3
                - input_boolean.vmc_master_spia_velocita_4
                - input_boolean.vmc_master_spia_velocita_freecooling
                - input_boolean.vmc_master_spia_velocita_iperventilazione
                - input_boolean.vmc_master_spia_velocita_notturna
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_calendario_domenica_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
            alias: Velocità 0
      - conditions:
          - condition: trigger
            id: Calendario Off tra Fascie
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_calendario_lunedi_1
                - input_boolean.vmc_master_spia_calendario_lunedi_2
                - input_boolean.vmc_master_spia_calendario_martedi_1
                - input_boolean.vmc_master_spia_calendario_martedi_2
                - input_boolean.vmc_master_spia_calendario_mercoledi_1
                - input_boolean.vmc_master_spia_calendario_mercoledi_2
                - input_boolean.vmc_master_spia_calendario_giovedi_1
                - input_boolean.vmc_master_spia_calendario_giovedi_2
                - input_boolean.vmc_master_spia_calendario_venerdi_1
                - input_boolean.vmc_master_spia_calendario_venerdi_2
                - input_boolean.vmc_master_spia_calendario_sabato_1
                - input_boolean.vmc_master_spia_calendario_sabato_2
                - input_boolean.vmc_master_spia_calendario_domenica_1
                - input_boolean.vmc_master_spia_calendario_domenica_2
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: >-
          Disattivazione: VMC ON/OFF, in Funzione del Calendario ,
          precedentemente Armato ed Attivato tra le Fascie del Calendario ->
          Velocità 0 se Spia Inquinanti OFF
      - conditions:
          - condition: trigger
            id:
              - Calendario Off tra Fascie e Spia Inquinanti ON
        sequence:
          - wait_template: >-
              {{ (states('input_boolean.vmc_master_spia_calendario_lunedi_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_lunedi_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_martedi_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_martedi_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_mercoledi_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_mercoledi_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_giovedi_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_giovedi_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_venerdi_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_venerdi_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_sabato_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_sabato_2') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_domenica_1') ==
              'on' or
              states('input_boolean.vmc_master_spia_calendario_domenica_2') ==
              'on') and
              states('input_boolean.vmc_master_opzioni_accendi_spegni_vmc_vs_calendario')
              =='off' }}
            continue_on_timeout: true
            alias: >-
              Disattivazione: VMC ON/OFF, in Funzione del Calendario ,
              precedentemente Armato ed Attivato tra le Fascie del Calendario
          - alias: "Tutte le Spie dei Giorni del Calendario su OFF "
            service: input_boolean.turn_off
            target:
              entity_id:
                - input_boolean.vmc_master_spia_calendario_lunedi_1
                - input_boolean.vmc_master_spia_calendario_lunedi_2
                - input_boolean.vmc_master_spia_calendario_martedi_1
                - input_boolean.vmc_master_spia_calendario_martedi_2
                - input_boolean.vmc_master_spia_calendario_mercoledi_1
                - input_boolean.vmc_master_spia_calendario_mercoledi_2
                - input_boolean.vmc_master_spia_calendario_giovedi_1
                - input_boolean.vmc_master_spia_calendario_giovedi_2
                - input_boolean.vmc_master_spia_calendario_venerdi_1
                - input_boolean.vmc_master_spia_calendario_venerdi_2
                - input_boolean.vmc_master_spia_calendario_sabato_1
                - input_boolean.vmc_master_spia_calendario_sabato_2
                - input_boolean.vmc_master_spia_calendario_domenica_1
                - input_boolean.vmc_master_spia_calendario_domenica_2
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
            data: {}
          - service: input_boolean.turn_on
            target:
              entity_id:
                - >-
                  input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
            data: {}
          - service: shell_command.vmc_master_velocita_1
            data: {}
            alias: Imposta Velocità 1 a Causa dell'Inquinamento presente
        alias: >-
          Disattivazione: VMC ON/OFF, in Funzione del Calendario ,
          precedentemente Armato ed Attivato tra le Fascie del Calendario ->
          Velocità 1 se Spia Inquinanti ON
      - conditions:
          - condition: trigger
            id:
              - Cambio Nome VMC
        sequence:
          - service: shell_command.vmc_master_rimuovi_caratteri_di_ritorno
            data: {}
          - alias: Chiama il Servizio per Cambiare nome alla VMC
            service: shell_command.vmc_master_cambia_nome
            data: {}
          - delay:
              hours: 0
              minutes: 0
              seconds: 4
              milliseconds: 0
          - service: homeassistant.update_entity
            data: {}
            target:
              entity_id:
                - sensor.vmc_master_nome
          - service: input_text.set_value
            data:
              value: ""
            target:
              entity_id: input_text.vmc_master_nome_da_inserire
        alias: Rinomina VMC
      - conditions:
          - condition: trigger
            id:
              - Riscrivi IP
        sequence:
          - alias: Verifica se l'IP è Valido o Meno
            choose:
              - conditions:
                  - condition: template
                    value_template: >-
                      {{ (states('sensor.vmc_master_verifica_ip_inserito') !=
                      "IP non Valido") }}
                sequence:
                  - service: shell_command.vmc_master_rimuovi_caratteri_di_ritorno
                    data: {}
                  - service: shell_command.vmc_master_aggiorna_indirizzo_ip
                    data: {}
                  - delay:
                      hours: 0
                      minutes: 0
                      seconds: 2
                      milliseconds: 0
                  - service: homeassistant.restart
                    data: {}
                alias: IP Inserito Valido
              - conditions:
                  - condition: template
                    value_template: >-
                      {{ (states('sensor.vmc_master_verifica_ip_inserito') ==
                      "IP non Valido") }}
                sequence:
                  - service: input_text.set_value
                    data:
                      value: ""
                    target:
                      entity_id: input_text.vmc_master_ip_insert
                alias: IP Inserito NON Valido
        alias: Cambio Indirizzo IP della VMC (Riavvio di H.A.)
      - conditions:
          - condition: trigger
            id: Spia Avvisi On
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_avvisi_spia
        alias: Spia Avvisi On
      - conditions:
          - condition: trigger
            id: Spia Avvisi Off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_opzioni_accendi_spegni_avvisi_spia
        alias: Spia Avvisi Off
      - conditions:
          - condition: trigger
            id:
              - Repository Update ON
            enabled: true
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_popup_versione_corrente_vs_repository
          - service: notify.persistent_notification
            data:
              message: >-
                Una nuova revisione è stata rilasciata
                [Link](https://github.com/DanRobo76/VMC-HELTY-FLOW)
              title: AGGIORNAMENTO SUL REPOSITORY VMC HELTY FLOW
        alias: Verifica Aggiornamenti Repository VMC-HELTY-FLOW - ON
      - conditions:
          - condition: trigger
            id:
              - Repository Update OFF
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_popup_versione_corrente_vs_repository
        alias: Verifica Aggiornamenti Repository VMC-HELTY-FLOW - OFF
      - conditions:
          - condition: trigger
            id:
              - inquinanti_co2_voc_on
        sequence:
          - choose:
              - conditions:
                  - alias: >-
                      Velocità diversa da 0 e con PdR Off su tutte le Velocità e
                      (FreeHeating Programmato Off e FreeCooling Programmato
                      Off)
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')!='Velocità
                      0' and 
                      states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      =='off' and
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='off'
                      and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='off'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_co2_o_voc
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                    enabled: true
                alias: >-
                  Velocità diversa da 0 e con PdR Off su tutte le Velocità e
                  (FreeHeating Programmato Off e FreeCooling Programmato Off)
              - conditions:
                  - alias: >-
                      Velocità diversa da 0 e con PdR Off su tutte le Velocità e
                      (FreeHeating Programmato su On o FreeCooling Programmato
                      su On)
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')!='Velocità
                      0' and 
                      states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      =='off' and
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'off' and
                      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='on'
                      or
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='on')
                      }}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_co2_o_voc
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                alias: >-
                  Velocità diversa da 0 e con PdR Off su tutte le Velocità e
                  (FreeHeating Programmato su On o FreeCooling Programmato su
                  On)
              - conditions:
                  - alias: >-
                      Velocità diversa da 0 e con PdR On  su qualsiasi Velocità
                      e (FreeHeating Programmato su Off e FreeCooling
                      Programmato su Off)
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
                      != 'Velocità 0' and
                      (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'on') and
                      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
                      == 'off') }}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_co2_o_voc
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                alias: >-
                  Velocità diversa da 0 e con PdR On  su qualsiasi Velocità e
                  (FreeHeating Programmato su Off e FreeCooling Programmato su
                  Off)
              - conditions:
                  - alias: >-
                      Velocità diversa da 0 e con PdR On  su qualsiasi Velocità
                      e (FreeHeating Programmato su On o FreeCooling Programmato
                      su On)
                    condition: template
                    value_template: >
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')
                      != 'Velocità 0' and
                      (states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'on') and
                      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')
                      == 'on' or
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')
                      == 'on') }}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_co2_o_voc
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                alias: >-
                  Velocità diversa da 0 e con PdR On  su qualsiasi Velocità e
                  (FreeHeating Programmato su On o FreeCooling Programmato su
                  On)
              - conditions:
                  - alias: >-
                      Velocità 0 con PdR Off su tutte le Velocità e (FreeHeating
                      Programmato su Off e FreeCooling Programmato su Off)
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and 
                      states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      =='off' and
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='off'
                      and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='off'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                        - >-
                          input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                        - input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
                alias: >-
                  Velocità 0 con PdR Off su tutte le Velocità e (FreeHeating
                  Programmato su Off e FreeCooling Programmato su Off)
              - conditions:
                  - alias: >-
                      Velocità 0 con PdR Off su tutte le Velocità e (FreeHeating
                      Programmato su On o FreeCooling Programmato su On)
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and 
                      states('input_boolean.vmc_master_spia_velocita_0_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')
                      == 'off'  and
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')
                      =='off' and
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')
                      == 'off' and
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')
                      == 'off' and
                      (states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating')=='on'
                      or
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling')=='on')}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_freecooling
                    data: {}
                    enabled: true
                alias: >-
                  Velocità 0 con PdR Off su tutte le Velocità e (FreeHeating
                  Programmato su On o FreeCooling Programmato su On)
              - conditions:
                  - condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_1_un_solo_avvio')=='on'}}
                    alias: Velocità 0 con PdR su Velocità 1
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
                alias: Caso Velocità 0 con PdR su Velocità 1
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità 2
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_2_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
                alias: Caso Velocità 0 con PdR su Velocità 2
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità 3
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_3_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
                alias: Caso Velocità 0 con PdR su Velocità 3
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità 4
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_4_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
                alias: Caso Velocità 0 con PdR su Velocità 4
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità Notturna
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_notturna
                    data: {}
                alias: Caso Velocità 0 con PdR su Notturna
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità Iperventilazione
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
                alias: Caso Velocità 0 con PdR su Iperventilazione
              - conditions:
                  - alias: Velocità 0 con PdR su Velocità Free Heating/Coooling
                    condition: template
                    value_template: >-
                      {{
                      states('sensor.vmc_master_status_ventola_lettura_codice_interpretato')=='Velocità
                      0' and
                      states('input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio')=='on'}}
                sequence:
                  - service: input_boolean.turn_on
                    data: {}
                    target:
                      entity_id:
                        - input_boolean.vmc_master_spia_co2_o_voc
                  - service: shell_command.vmc_master_freecooling
                    data: {}
                alias: Caso Velocità 0 con PdR su Free Heating/Cooling
        alias: Attivazione Automatica VMC per Inquinanti CO2 e/o VOC Rilevati
      - conditions:
          - condition: trigger
            id:
              - inquinanti_co2_voc_off
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_co2_o_voc
          - choose:
              - conditions:
                  - condition: template
                    value_template: >-
                      {{states('input_boolean.vmc_master_spia_velocita_0_co2_o_voc')=='on'
                      or
                      states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0')=='on'}}
                    enabled: true
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id:
                        - >-
                          input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                        - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                        - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                        - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                        - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                        - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                        - >-
                          input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                        - >-
                          input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                        - >-
                          input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
                        - input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
                    enabled: true
                  - service: shell_command.vmc_master_velocita_0
                    data: {}
                    enabled: true
                alias: >-
                  Ritorno a Velocità 0 se la Partenza è stata a Velocità 0,
                  indipendentemente del cambio di Velocità negl'Intermezzi
              - conditions:
                  - condition: template
                    value_template: >-
                      {{states('input_boolean.vmc_master_spia_velocita_1_co2_o_voc')=='on'
                      and
                      states('input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0')=='off'}}
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                  - service: shell_command.vmc_master_velocita_1
                    data: {}
                alias: Ritorno a Velocità 1
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_2_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                  - service: shell_command.vmc_master_velocita_2
                    data: {}
                alias: Ritorno a Velocità 2
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_3_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                  - service: shell_command.vmc_master_velocita_3
                    data: {}
                alias: Ritorno a Velocità 3
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_4_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                  - service: shell_command.vmc_master_velocita_4
                    data: {}
                alias: Ritorno a Velocità 4
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                  - service: shell_command.vmc_master_notturna
                    data: {}
                alias: Ritorno a Velocità Notturna
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                  - service: shell_command.vmc_master_iperventilazione
                    data: {}
                alias: Ritorno a Velocità Iperventilazione
              - conditions:
                  - condition: template
                    value_template: " {{states('input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc')=='on'}}"
                sequence:
                  - service: input_boolean.turn_off
                    data: {}
                    target:
                      entity_id: >-
                        input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
                  - service: shell_command.vmc_master_freecooling
                    data: {}
                alias: Ritorno a Velocità Free Heating/Cooling
        alias: Disattivazione Automatica VMC per Inquinanti CO2 e/o VOC Rilevati
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_0_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_0_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità 0 CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_1_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_1_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità 1 CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_2_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_2_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità 2 CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_3_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_3_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità 3 CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_4_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_4_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità 4 CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_notturna_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità Notturna CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_iperventilazione_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: >-
                input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
        alias: Spia Velocità iperventilazione CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - spia_velocita_freecooling_inquinanti_co2_voc
        sequence:
          - service: input_boolean.turn_on
            data: {}
            target:
              entity_id: input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
        alias: Spia Velocità Free Heating/Cooling CO₂ e/o VOC
      - conditions:
          - condition: trigger
            id:
              - " Disattivazione VMC per Inquinanti CO2 e/o VOC, precedentemente Armato ed Attivato"
        sequence:
          - service: input_boolean.turn_off
            data: {}
            target:
              entity_id:
                - input_boolean.vmc_master_spia_velocita_0_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_2_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_3_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_4_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_notturna_co2_o_voc
                - input_boolean.vmc_master_spia_velocita_freecooling_co2_o_voc
                - input_boolean.vmc_master_spia_co2_o_voc
                - >-
                  input_boolean.vmc_master_spia_co2_o_voc_partenza_ritorno_velocita_0
                - input_boolean.vmc_master_spia_velocita_0_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_1_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_2_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_3_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_4_un_solo_avvio
                - input_boolean.vmc_master_spia_velocita_notturna_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_iperventilazione_un_solo_avvio
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freeheating
                - >-
                  input_boolean.vmc_master_spia_velocita_freecooling_un_solo_avvio_per_programmazione_freecooling
                - input_boolean.vmc_master_spia_velocita_1_co2_o_voc_pdr
          - service: shell_command.vmc_master_velocita_0
            data: {}
        alias: " Disattivazione VMC per Inquinanti CO2 e/o VOC, precedentemente Armato ed Attivato -> Tutte le Spie CO2 e/o VOC OFF -> Vel. 0"
mode: restart
